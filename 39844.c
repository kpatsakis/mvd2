static brcmf_cfg80211_start_ap(struct wiphy *wiphy, struct net_device struct cfg80211_ap_settings *settings) struct brcmf_ssid_le ssid_le ; if ( settings -> ssid == NULL || settings -> ssid_len == 0 )  memcpy ( ssid_le . SSID , settings -> ssid , settings -> ssid_len ); ssid_le . SSID_len = cpu_to_le32 ( ( u32 ) settings -> ssid_len ); memcpy ( & join_params . ssid_le , & ssid_le , sizeof ( ssid_le ) ); err = brcmf_fil_cmd_data_set ( ifp , BRCMF_C_SET_SSID , & join_params , sizeof ( join_params ) ); if ( err < 0 )  brcmf_err ( "SET SSID error (%d)\n" , err ); err = brcmf_fil_bsscfg_data_set ( ifp , "ssid" , & ssid_le , sizeof ( ssid_le ) ); if ( err < 0 )  brcmf_err ( "setting ssid failed %d\n" , err ); if ( err < 0 )  brcmf_err ( "bss_enable config failed %d\n" , err ); if ( ( err ) && ( ! mbss ) )  return err ; 