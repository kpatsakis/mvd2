nsresult nsZipFind::FindNext(const char ** aResult, uint16_t *aNameLen) if ( ! mArchive || ! aResult || ! aNameLen )  while ( mSlot < ZIP_TABSIZE )  mItem = mItem ? mItem -> next : mArchive -> mFiles [ mSlot ]; bool found = false ; if ( ! mItem )  if ( ! mPattern )  found = true; if ( mRegExp )  char buf [ kMaxNameLength + 1 ] ; memcpy ( buf , mItem -> Name ( ) , mItem -> nameLength ); buf [ mItem -> nameLength ] = '\0'; found = ( NS_WildCardMatch ( buf , mPattern , false ) == MATCH ); found = ( ( mItem -> nameLength == strlen ( mPattern ) ) && ( memcmp ( mItem -> Name ( ) , mPattern , mItem -> nameLength ) == 0 ) ); if ( found )  * aResult = mItem -> Name ( ); * aNameLen = mItem -> nameLength; 