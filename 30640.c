 nsAttrAndChildArray::Compact() if ( ! mImpl )  uint32_t slotCount = AttrSlotCount ( ) ; uint32_t attrCount = NonMappedAttrCount ( ) ; uint32_t childCount = ChildCount ( ) ; if ( attrCount < slotCount )  memmove ( mImpl -> mBuffer + attrCount * ATTRSIZE , mImpl -> mBuffer + slotCount * ATTRSIZE , childCount * sizeof ( nsIContent * ) ); uint32_t newSize = attrCount * ATTRSIZE + childCount ; if ( ! newSize && ! mImpl -> mMappedAttrs )  free ( mImpl ); 