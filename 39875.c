static int fuse_flush(struct file *file, fl_owner_t id) struct inode * inode = file_inode ( file ) ; struct fuse_conn * fc = get_fuse_conn ( inode ) ; struct fuse_flush_in inarg ; int err ; if ( is_bad_inode ( inode ) )  if ( fc -> no_flush )  err = write_inode_now ( inode , 1 ); if ( err )  memset ( & inarg , 0 , sizeof ( inarg ) ); inarg . fh = ff -> fh; inarg . lock_owner = fuse_lock_owner_id ( fc , id ); u64 fuse_lock_owner_id(struct fuse_conn *fc, fl_owner_t id) u32 * k = fc -> scramble_key ; u64 v = ( unsigned long ) id ; u32 v0 = v ; u32 v1 = v >> 32 ; v0 += ( ( v1 << 4 ^ v1 >> 5 ) + v1 ) ^ ( sum + k [ sum & 3 ] ); v1 += ( ( v0 << 4 ^ v0 >> 5 ) + v0 ) ^ ( sum + k [ sum >> 11 & 3 ] ); return ( u64 ) v0 + ( ( u64 ) v1 << 32 ) ; req -> in . args [ 0 ] . value = & inarg; __set_bit ( FR_FORCE , & req -> flags ); fuse_request_send ( fc , req ); err = req -> out . h . error; fuse_put_request ( fc , req ); if ( err == - ENOSYS )  return err ; 