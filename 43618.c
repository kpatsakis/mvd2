int32_t VideoCaptureAndroid::Init(const int32_t const char* deviceUniqueIdUTF8) const int nameLength = strlen ( deviceUniqueIdUTF8 ) ; if ( nameLength >= kVideoCaptureUniqueNameLength )  size_t camera_id = 0 ; if ( ! _deviceInfo . FindCameraIndex ( deviceUniqueIdUTF8 , & camera_id ) )  AttachThreadScoped ats ( g_jvm ) ; JNIEnv * env = ats . env ( ) ; jmethodID ctor = env -> GetMethodID ( g_java_capturer_class , "<init>" , "(IJ)V" ) ; jlong j_this = reinterpret_cast < intptr_t > ( this ) ; _jCapturer = env -> NewGlobalRef ( env -> NewObject ( g_java_capturer_class , ctor , camera_id , j_this ) ); assert ( _jCapturer ); 