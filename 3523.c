bool SizeToType(JSContext* cx, JSObject* type) size_t size = Align ( CType :: GetSize ( type ) , sizeof ( ffi_arg ) ) ;  CType::GetSize(JSObject* obj) jsval size = JS_GetReservedSlot ( obj , SLOT_SIZE ) ; if ( size . isInt32 ( ) )  return size . toInt32 ( ) ; return Convert < size_t > ( size . toDouble ( ) ) ; static MOZ_ALWAYS_INLINE Align(size_t val, size_t align) return ( ( val - 1 ) | ( align - 1 ) ) + 1 ; mData = js_malloc ( size ); if ( mData )  memset ( mData , 0 , size ); return mData != nullptr ; 