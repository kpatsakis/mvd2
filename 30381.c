cgiEnvironmentResultType cgiReadEnvironment(char *filename) FILE * in ; char * version ; in = fopen ( filename , "rb" ); if ( ! in )  if ( ! cgiReadString ( in , & version ) )  static int cgiReadString(FILE *in, char **s) int len ; if ( ! cgiReadInt ( in , & len ) )  static int cgiReadInt(FILE *out, int *i) if ( ! fread ( i , sizeof ( int ) , 1 , out ) )  return 0 ; return 1 ; return 0 ; * s = ( char * ) malloc ( len + 1 ); if ( ! ( * s ) )  return 0 ; if ( ( ( int ) fread ( * s , 1 , len , in ) ) != len )  return 0 ; return 1 ; free ( version ); 