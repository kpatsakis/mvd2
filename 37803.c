static ReportError(JSContext* aCx, WorkerPrivate* bool aFireAtScope, WorkerPrivate* const nsString& aMessage, const nsString& const nsString& aLine, uint32_t uint32_t aColumnNumber, uint32_t uint32_t aErrorNumber, JSExnType bool aMutedError, uint64_t aInnerWindowId) if ( ! JSREPORT_IS_WARNING ( aFlags ) )  RootedDictionary < ErrorEventInit > init ( aCx ) ; if ( aMutedError )  init . mMessage = aMessage; init . mFilename = aFilename; init . mLineno = aLineNumber; init . mCancelable = true; init . mBubbles = false; if ( aTarget )  nsEventStatus status = nsEventStatus_eIgnore ; if ( status == nsEventStatus_eConsumeNoDefault )  if ( aFireAtScope && ( aTarget || aErrorNumber != JSMSG_OVER_RECURSED ) )  JS :: Rooted < JSObject * > global ( aCx , JS :: CurrentGlobalOrNull ( aCx ) ) ; nsEventStatus status = nsEventStatus_eIgnore ; nsIScriptGlobalObject * sgo ; if ( aWorkerPrivate )  WorkerGlobalScope * globalScope = nullptr ; if ( ! globalScope )  nsIDOMEventTarget * target = static_cast < nsIDOMEventTarget * > globalScope RefPtr < ErrorEvent > event = ErrorEvent :: Constructor ( aTarget , NS_LITERAL_STRING ( "error" ) , init ) ; if ( NS_FAILED ( EventDispatcher :: DispatchDOMEvent ( target , nullptr , event , nullptr , & status ) ) )  status = nsEventStatus_eIgnore; if ( sgo = nsJSUtils :: GetStaticScriptGlobal ( global ) )  if ( NS_FAILED ( sgo -> HandleScriptError ( init , & status ) ) )  status = nsEventStatus_eIgnore; if ( status == nsEventStatus_eConsumeNoDefault )  if ( aWorkerPrivate )  LogErrorToConsole ( aMessage , aFilename , aLine , aLineNumber , aColumnNumber , aFlags , aInnerWindowId );  LogErrorToConsole(const nsAString& const nsAString& const nsAString& uint32_t uint32_t uint32_t uint64_t aInnerWindowId) nsCOMPtr < nsIScriptError > scriptError = do_CreateInstance ( NS_SCRIPTERROR_CONTRACTID ) ; if ( scriptError )  if ( NS_FAILED ( scriptError -> InitWithWindowID ( aMessage , aFilename , aLine , aLineNumber , aColumnNumber , aFlags , "Web Worker" , aInnerWindowId ) ) )  scriptError = nullptr; nsCOMPtr < nsIConsoleService > consoleService = do_GetService ( NS_CONSOLESERVICE_CONTRACTID ) ; if ( consoleService )  if ( scriptError )  if ( NS_SUCCEEDED ( consoleService -> LogMessage ( scriptError ) ) )  if ( NS_SUCCEEDED ( consoleService -> LogStringMessage ( aMessage . BeginReading ( ) ) ) )  NS_ConvertUTF16toUTF8 msg ( aMessage ) ; NS_ConvertUTF16toUTF8 filename ( aFilename ) ; static const char kErrorString [ ] = "JS error in Web Worker: %s [%s:%u]" ; fprintf ( stderr , kErrorString , msg . get ( ) , filename . get ( ) , aLineNumber ); fflush ( stderr ); 