static void mux_chr_read(void *opaque, const uint8_t *buf, int size) CharDriverState * chr = opaque ; MuxDriver * d = chr -> opaque ; int i ; for(i = 0; i < size; i++) if ( mux_proc_byte ( chr , d , buf [ i ] ) )  static int mux_proc_byte(CharDriverState *chr, MuxDriver *d, int ch) if ( d -> term_got_escape )  if ( ch == term_escape_char )  switch ( ch )  mux_print_help ( chr ); static void mux_print_help(CharDriverState *chr) int i , j ; char ebuf [ 15 ] = "Escape-Char" ; if ( term_escape_char > 0 && term_escape_char < 26 )  snprintf ( ebuf , sizeof ( ebuf ) , "C-%c" , term_escape_char - 1 + 'a' ); for (i = 0; mux_help[i] != NULL; i++) for (j=0; mux_help[i][j] != '\0'; j++) if ( mux_help [ i ] [ j ] == '%' )  chr -> chr_write ( chr , ( uint8_t * ) ebuf , strlen ( ebuf ) ); 