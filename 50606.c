n1 = strlen ( ( char * ) data ) + 1; cp1 = data + n1; printf ( "sizeof data - n1 = %d\n" , sizeof data - n1 ); if ( n2 > sizeof data - n1 )  printf ( "Want to copy %d bytes, but can only fit %d\n" , n2 , sizeof data - n1 ); printf ( "Cp1 has room for %d bytes\n" , sizeof data - n1 ); memcpy ( cp1 , cp , n2 ); n = cp1 - ( u_char * ) data; if ( n > MAXDATA )  printf ( "update type %d: %d bytes is too much data" , type , n ); 