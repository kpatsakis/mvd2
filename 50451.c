static sector_t fuse_bmap(struct address_space *mapping, sector_t block) struct inode * inode = mapping -> host ; struct fuse_conn * fc = get_fuse_conn ( inode ) ; struct fuse_bmap_in inarg ; if ( ! inode -> i_sb -> s_bdev || fc -> no_bmap )  memset ( & inarg , 0 , sizeof ( inarg ) ); inarg . block = block; inarg . blocksize = inode -> i_sb -> s_blocksize; args . in . args [ 0 ] . value = & inarg; args . out . numargs = 1; args . out . args [ 0 ] . size = sizeof ( outarg ); args . out . args [ 0 ] . value = & outarg; err = fuse_simple_request ( fc , & args ); if ( err == - ENOSYS )  return err ? 0 : outarg . block ; 